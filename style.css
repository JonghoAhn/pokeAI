/* General Body Styles */
body {
    font-family: 'Jua', sans-serif;
    user-select: none; /* Prevents text selection */
    -webkit-user-select: none; /* Safari */
    -moz-user-select: none; /* Firefox */
    -ms-user-select: none; /* IE10+ */
    overflow: hidden; /* Prevent scrollbars on the body */
}

/* Game Container - Aspect Ratio Box */
#game-container {
    width: 100%;
    max-width: 500px; /* Max width of the game */
    background-image: url('https://user-images.githubusercontent.com/15285725/112128174-89735100-8c01-11eb-9065-54e3d7d7d32c.png');
    background-size: cover;
    background-position: center;
    border-radius: 1.5rem; /* More rounded corners */
    border: 8px solid #333;
    aspect-ratio: 9 / 16; /* Mobile phone aspect ratio */
    overflow: hidden; /* Ensure content stays within rounded corners */
}

/* Responsive adjustments */
@media (max-height: 800px) {
    #game-container {
        height: 100vh;
        width: auto;
        border: none;
        border-radius: 0;
    }
}


/* Animations */
@keyframes jump-in {
    0% { transform: scale(0.5) translateY(50px); opacity: 0; }
    80% { transform: scale(1.05) translateY(0); opacity: 1; }
    100% { transform: scale(1) translateY(0); opacity: 1; }
}

.animate-jump-in {
    animation: jump-in 0.5s ease-out forwards;
}

/* Attack Effect Keyframes */
/* Base properties for all effects */
[class^="effect-"] {
    position: absolute;
    transform: translate(-50%, -50%);
    pointer-events: none;
}

/* -- Type Specific Animations -- */

/* 불꽃: 화염방사 */
.effect-불꽃 {
    width: 80px;
    height: 150px;
    background: radial-gradient(circle, rgba(255,255,0,0.8) 0%, rgba(255,100,0,0.8) 50%, rgba(255,0,0,0) 70%);
    left: var(--end-x);
    top: var(--end-y);
    transform: translate(-50%, -50%) scale(0);
    border-radius: 50%;
    animation: fire-blast 0.5s ease-out forwards;
}
@keyframes fire-blast {
    0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
    100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }
}

/* 물: 하이드로펌프 */
.effect-물 {
    width: 50px;
    height: 50px;
    background: #3498db;
    border-radius: 50%;
    left: var(--start-x);
    top: var(--start-y);
    animation: water-gun 0.4s linear forwards;
}
@keyframes water-gun {
    from {
        transform: translate(-50%, -50%) scale(1);
        left: var(--start-x);
        top: var(--start-y);
        opacity: 1;
    }
    to {
        transform: translate(-50%, -50%) scale(2);
        left: var(--end-x);
        top: var(--end-y);
        opacity: 0;
    }
}

/* 전기: 10만볼트 */
.effect-전기 {
    width: 150px;
    height: 150px;
    left: var(--end-x);
    top: var(--end-y);
    background:
        radial-gradient(circle at 50% 50%, transparent 40%, yellow 42%, yellow 48%, transparent 50%),
        linear-gradient(45deg, transparent 45%, yellow 46%, yellow 54%, transparent 55%),
        linear-gradient(-45deg, transparent 45%, yellow 46%, yellow 54%, transparent 55%);
    transform: translate(-50%, -50%) scale(0);
    animation: thunderbolt 0.4s ease-out forwards;
}
@keyframes thunderbolt {
    0% { transform: translate(-50%, -50%) scale(0) rotate(0deg); opacity: 1; }
    50% { transform: translate(-50%, -50%) scale(1.2) rotate(180deg); }
    100% { transform: translate(-50%, -50%) scale(1) rotate(360deg); opacity: 0; }
}


/* 풀: 덩굴채찍 */
.effect-풀 {
    width: 10px;
    height: 100px;
    background: linear-gradient(to bottom, #27ae60, #2ecc71);
    border-radius: 5px;
    left: var(--start-x);
    top: var(--start-y);
    transform-origin: top center;
    animation: vine-whip 0.5s ease-in-out forwards;
}
@keyframes vine-whip {
    0% { transform: rotate(-60deg) scaleY(0); }
    50% { transform: rotate(-60deg) scaleY(1.2); }
    100% { transform: rotate(80deg) scaleY(1); opacity: 0; left: var(--end-x); top: var(--end-y); }
}

/* 노말: 몸통박치기 */
.effect-노말 {
    width: 60px;
    height: 60px;
    border: 5px solid rgba(255, 255, 255, 0.7);
    border-radius: 50%;
    left: var(--end-x);
    top: var(--end-y);
    transform: translate(-50%, -50%) scale(0);
    animation: tackle-impact 0.3s ease-out forwards;
}
@keyframes tackle-impact {
    from { transform: translate(-50%, -50%) scale(0); opacity: 1; }
    to { transform: translate(-50%, -50%) scale(2); opacity: 0; }
}

/* 격투: 태권당수 */
.effect-격투 {
    width: 80px;
    height: 10px;
    background: white;
    box-shadow: 0 0 15px white;
    left: var(--end-x);
    top: var(--end-y);
    animation: karate-chop 0.3s ease-out forwards;
}
@keyframes karate-chop {
    0% { transform: translate(-50%, -50%) translateX(-100px) skewX(30deg); opacity: 0; }
    50% { transform: translate(-50%, -50%) translateX(0) skewX(30deg); opacity: 1; }
    100% { transform: translate(-50%, -50%) translateX(100px) skewX(30deg); opacity: 0; }
}

/* 독: 오물폭탄 */
.effect-독 {
    width: 60px;
    height: 60px;
    background: radial-gradient(circle, #8e44ad, #4a148c);
    border-radius: 50%;
    left: var(--start-x);
    top: var(--start-y);
    animation: sludge-bomb 0.6s cubic-bezier(0.5, -0.5, 0.5, 1.5) forwards;
}
@keyframes sludge-bomb {
    0% { left: var(--start-x); top: var(--start-y); transform: scale(0.5); }
    100% { left: var(--end-x); top: var(--end-y); transform: scale(1); opacity: 0; }
}

/* 땅: 지진 */
.effect-땅 {
    width: 200px;
    height: 30px;
    background: linear-gradient(to top, #a16f4a, transparent);
    border-radius: 50% 50% 0 0;
    left: var(--end-x);
    bottom: 0; /* Position at the bottom of the target area */
    transform: translateX(-50%) scaleY(0);
    animation: earthquake-shock 0.5s ease-out forwards;
}
@keyframes earthquake-shock {
    0% { transform: translateX(-50%) scaleY(0); }
    30% { transform: translateX(-50%) scaleY(1); }
    100% { transform: translateX(-50%) scaleY(1); opacity: 0; }
}

/* 에스퍼: 사이코키네시스 */
.effect-에스퍼 {
    width: 100px;
    height: 100px;
    border: 5px solid #ff00ff;
    border-radius: 50%;
    left: var(--end-x);
    top: var(--end-y);
    transform: translate(-50%, -50%) scale(2);
    opacity: 0;
    animation: psychic-wave 0.6s ease-in-out forwards;
}
@keyframes psychic-wave {
    0% { transform: translate(-50%, -50%) scale(2); opacity: 0; }
    50% { transform: translate(-50%, -50%) scale(0.8); opacity: 1; }
    100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
}

/* 고스트: 섀도볼 */
.effect-고스트 {
    width: 60px;
    height: 60px;
    background: radial-gradient(circle, #4b0082, black);
    border-radius: 50%;
    left: var(--start-x);
    top: var(--start-y);
    animation: shadow-ball-move 0.7s ease-in forwards;
}
@keyframes shadow-ball-move {
    from { transform: translate(-50%, -50%); left: var(--start-x); top: var(--start-y); }
    to { transform: translate(-50%, -50%); left: var(--end-x); top: var(--end-y); opacity: 0; }
}

/* 악: 깨물어부수기 */
.effect-악 { 
    width: 70px; 
    height: 70px; 
    background: black; 
    border-radius: 50%; 
    box-shadow: 0 0 20px black; 
    left: var(--start-x); 
    top: var(--start-y); 
    animation: dark-pulse 0.5s ease-in-out forwards; 
    opacity: 0.8;
}

@keyframes dark-pulse {
    0% {
        transform: translate(-50%, -50%) scale(0.5);
        opacity: 0;
    }
    50% {
        transform: translate(calc(var(--end-translate-x) - 50%), calc(var(--end-translate-y) - 50%)) scale(1);
        opacity: 0.8;
    }
    100% {
        transform: translate(calc(var(--end-translate-x) - 50%), calc(var(--end-translate-y) - 50%)) scale(1);
        opacity: 0;
    }
}

/* 강철: 아이언헤드 */
.effect-강철 {
    width: 50px;
    height: 50px;
    background: #bdc3c7;
    left: var(--start-x);
    top: var(--start-y);
    animation: iron-head-ram 0.4s ease-out forwards;
}
@keyframes iron-head-ram {
    0% { transform: translate(-50%, -50%) scale(1); }
    40% { transform: translate(-50%, -50%) scale(1); left: var(--start-x); top: var(--start-y); }
    100% { transform: translate(-50%, -50%) scale(1.5); left: var(--end-x); top: var(--end-y); opacity: 0; }
}